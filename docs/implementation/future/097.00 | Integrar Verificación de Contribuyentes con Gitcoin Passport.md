# ✅ Paso 97: Integrar Verificación de Contribuyentes con Gitcoin Passport

Ahora agregaremos Gitcoin Passport, permitiendo que la DAO valide a sus miembros con credenciales reputacionales antes de permitirles participar en gobernanza o recibir fondos.
✅ Prueba de Humanidad → Gitcoin Passport verifica que los miembros son personas reales.
✅ Credenciales Descentralizadas → Se validan redes sociales, wallets y contribuciones Web3.
✅ Web3.js + Stimulus.js → Para integrar la verificación de identidad en la UI.
✅ Smart Contracts en Solidity → Para requerir validaciones de Gitcoin Passport en votaciones y financiamiento.
📌 Commit 97.1: Configurar Integración con Gitcoin Passport
🔹 Mensaje de commit:
feat(gitcoin-passport): configura integración con Gitcoin Passport para verificación de identidad en la DAO
🔹 Contenido del commit:
1️⃣ Registrar la DAO en Gitcoin Passport
    Definir criterios de validación (número de sellos requeridos, redes sociales, etc.).
    Configurar API Key para verificar pasaportes de usuarios.
2️⃣ Añadir Configuración en config/gitcoin_passport.yml
gitcoin_passport:
  required_stamps: 3
  accepted_stamps:
    - "Twitter"
    - "GitHub"
    - "BrightID"
    - "ENS"
🔹 Añadir archivos al commit:
git add .
git commit -m "feat(gitcoin-passport): configura integración con Gitcoin Passport para verificación de identidad en la DAO"
📌 Commit 97.2: Implementar Smart Contract para Requerir Validación con Gitcoin Passport
🔹 Mensaje de commit:
feat(passport-verification): agrega smart contract para validar contribuyentes con Gitcoin Passport
🔹 Contenido del commit:
Definir GitcoinPassportVerification.sol en contracts/GitcoinPassportVerification.sol
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;
import "@openzeppelin/contracts/access/Ownable.sol";
contract GitcoinPassportVerification is Ownable {
    mapping(address => bool) public verifiedUsers;
    address public passportVerifier;
    event UserVerified(address indexed user);
    constructor(address _passportVerifier) {
        passportVerifier = _passportVerifier;
    }
    function verifyUser(address user, bool status) external {
        require(msg.sender == passportVerifier, "No autorizado");
        verifiedUsers[user] = status;
        emit UserVerified(user);
    }
    function isVerified(address user) public view returns (bool) {
        return verifiedUsers[user];
    }
}
🔹 Añadir archivos al commit:
git add .
git commit -m "feat(passport-verification): agrega smart contract para validar contribuyentes con Gitcoin Passport"
📌 Commit 97.3: Integrar UI para Verificación con Gitcoin Passport
🔹 Mensaje de commit:
feat(passport-ui): agrega UI para verificar identidad en la DAO con Gitcoin Passport
🔹 Contenido del commit:
Modificar app/javascript/controllers/gitcoin_passport_controller.js
import { Controller } from "@hotwired/stimulus";
export default class extends Controller {
  static targets = ["status"];
  async checkPassport() {
    const response = await fetch("/gitcoin_passport/verify");
    const data = await response.json();
    if (data.verified) {
      this.statusTarget.innerText = "✅ Identidad verificada";
    } else {
      this.statusTarget.innerText = "❌ No tienes suficientes credenciales en Gitcoin Passport";
    }
  }
}
Modificar app/views/gitcoin_passport/index.html.erb
<h2>Verificar Identidad con Gitcoin Passport</h2>
<button data-controller="gitcoin-passport" data-action="click->gitcoin-passport#checkPassport">
  Verificar Identidad
</button>
<p data-gitcoin-passport-target="status">Estado: No verificado</p>
🔹 Añadir archivos al commit:
git add .
git commit -m "feat(passport-ui): agrega UI para verificar identidad en la DAO con Gitcoin Passport"
📝 Explicación y Código Generado
Ejemplo de Verificación de Usuario en API
curl -X GET "http://localhost:3000/gitcoin_passport/verify"
✅ Retorna si el usuario tiene suficientes credenciales en Gitcoin Passport.
Ejemplo de Requerir Validación en Votaciones
function canVote(address voter) public view returns (bool) {
    require(passportVerification.isVerified(voter), "No tienes suficientes credenciales para votar");
    return true;
}
✅ Solo votantes verificados con Gitcoin Passport pueden participar.
Ejemplo de Panel de Gitcoin Passport en Web
https://passport.gitcoin.co/
✅ Los miembros de la DAO pueden ver y gestionar su reputación Web3.
