# ‚úÖ Paso 96: Integrar Automatizaci√≥n de Gobernanza con Aragon Voice

Ahora agregaremos Aragon Voice, permitiendo que la DAO automatice decisiones de gobernanza y ejecute acciones on-chain sin necesidad de intervenci√≥n manual.
‚úÖ Gobernanza Automatizada ‚Üí Las decisiones votadas en la DAO se ejecutan autom√°ticamente.
‚úÖ Integraci√≥n con Gnosis Safe y Zodiac ‚Üí La gobernanza controla directamente los contratos de la DAO.
‚úÖ Web3.js + Stimulus.js ‚Üí Para visualizar y participar en votaciones desde la UI.
‚úÖ Smart Contracts en Solidity ‚Üí Para conectar Aragon Voice con los procesos de gobernanza.
üìå Commit 96.1: Configurar Gobernanza con Aragon Voice
üîπ Mensaje de commit:
feat(aragon-voice): configura Aragon Voice para automatizaci√≥n de gobernanza en la DAO
üîπ Contenido del commit:
1Ô∏è‚É£ Configurar DAO en Aragon Voice
    Registrar la DAO en la plataforma.
    Definir par√°metros de votaci√≥n (qu√≥rum, umbrales de aprobaci√≥n).
    Conectar Aragon Voice con Gnosis Safe.
2Ô∏è‚É£ A√±adir Configuraci√≥n en config/aragon_voice.yml
aragon_voice:
  dao_address: "0xYourDAOAddress"
  proposals:
    - name: "Cambio de Qu√≥rum"
      description: "Modificar el qu√≥rum de gobernanza al 20%"
      execution: "0xSmartContractFunction"
    - name: "Distribuci√≥n de Fondos"
      description: "Transferir 500 GOVR a la Tesorer√≠a"
      execution: "0xTransferFunction"
  voting_period: "7 d√≠as"
üîπ A√±adir archivos al commit:
git add .
git commit -m "feat(aragon-voice): configura Aragon Voice para automatizaci√≥n de gobernanza en la DAO"
üìå Commit 96.2: Implementar Smart Contract de Ejecuci√≥n de Propuestas
üîπ Mensaje de commit:
feat(aragon-execution): agrega smart contract para ejecutar decisiones de gobernanza con Aragon Voice
üîπ Contenido del commit:
Definir AragonExecution.sol en contracts/AragonExecution.sol
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;
import "@openzeppelin/contracts/access/Ownable.sol";
contract AragonExecution is Ownable {
    event ProposalExecuted(uint256 proposalId, string description);
    function executeProposal(uint256 proposalId, address target, bytes calldata data) external onlyOwner {
        (bool success, ) = target.call(data);
        require(success, "Ejecuci√≥n fallida");
        emit ProposalExecuted(proposalId, "Propuesta ejecutada con √©xito");
    }
}
üîπ A√±adir archivos al commit:
git add .
git commit -m "feat(aragon-execution): agrega smart contract para ejecutar decisiones de gobernanza con Aragon Voice"
üìå Commit 96.3: Integrar UI para Propuestas y Votaciones en Aragon Voice
üîπ Mensaje de commit:
feat(aragon-ui): agrega UI para ver y participar en votaciones de Aragon Voice en la DAO
üîπ Contenido del commit:
Modificar app/javascript/controllers/aragon_voice_controller.js
import { Controller } from "@hotwired/stimulus";
import Web3 from "web3";
export default class extends Controller {
  static targets = ["proposalId", "vote"];
  async voteProposal() {
    if (!window.ethereum) {
      alert("Por favor instala MetaMask");
      return;
    }
    const web3 = new Web3(window.ethereum);
    await window.ethereum.request({ method: "eth_requestAccounts" });
    const proposalId = this.proposalIdTarget.value;
    const vote = parseInt(this.voteTarget.value, 10);
    const contract = new web3.eth.Contract(
      [{ name: "vote", type: "function", inputs: [{ name: "proposalId", type: "uint256" }, { name: "vote", type: "uint8" }] }],
      "0xYourAragonExecutionContractAddress"
    );
    await contract.methods.vote(proposalId, vote).send({ from: window.ethereum.selectedAddress });
    alert("Voto registrado en Aragon Voice");
  }
}
Modificar app/views/aragon_voice/index.html.erb
<h2>Votar en Propuestas de la DAO</h2>
<label>ID de la Propuesta:</label>
<input type="text" data-aragon-voice-target="proposalId">
<label>Tu Voto (0 = No, 1 = S√≠, 2 = Abstenerse):</label>
<input type="number" data-aragon-voice-target="vote">
<button data-controller="aragon-voice" data-action="click->aragon-voice#voteProposal">
  Votar en Aragon Voice
</button>
üîπ A√±adir archivos al commit:
git add .
git commit -m "feat(aragon-ui): agrega UI para ver y participar en votaciones de Aragon Voice en la DAO"
üìù Explicaci√≥n y C√≥digo Generado
Ejemplo de Creaci√≥n de Propuesta en API
curl -X POST "http://localhost:3000/aragon_voice/create" \
  -H "Content-Type: application/json" \
  -d '{ "name": "Cambio de Qu√≥rum", "description": "Modificar el qu√≥rum al 20%", "execution": "0xSmartContractFunction" }'
‚úÖ Se registra una propuesta en Aragon Voice.
Ejemplo de Voto en API
curl -X POST "http://localhost:3000/aragon_voice/vote" \
  -H "Content-Type: application/json" \
  -d '{ "proposalId": 1, "vote": 1 }'
‚úÖ El usuario vota "S√≠" en la propuesta #1.
Ejemplo de Ejecuci√≥n de Propuesta en API
curl -X POST "http://localhost:3000/aragon_voice/execute" \
  -H "Content-Type: application/json" \
  -d '{ "proposalId": 1, "target": "0xContractAddress", "data": "0x" }'
‚úÖ La decisi√≥n votada se ejecuta autom√°ticamente en la DAO.
Ejemplo de Panel de Aragon Voice en Web
https://voice.aragon.org/
‚úÖ Los miembros de la DAO pueden ver y votar en propuestas activas.
