# ‚úÖ Paso 113: Integrar Identidad Digital DAO con World ID

Ahora agregaremos World ID, permitiendo que la DAO verifique identidad sin revelar informaci√≥n personal usando pruebas de humanidad (zk-proofs).
‚úÖ Prueba de Humanidad con Zero-Knowledge Proofs (ZKPs) ‚Üí Verifica que el usuario es una persona real sin revelar datos privados.
‚úÖ Evita Sybil Attacks ‚Üí Garantiza que cada usuario sea √∫nico y no pueda crear m√∫ltiples cuentas falsas.
‚úÖ Integraci√≥n con Wallets y ENS ‚Üí Compatible con Ethereum y sistemas de identidad descentralizada.
‚úÖ Web3.js + Stimulus.js ‚Üí Para interactuar con Worldcoin desde la UI.
‚úÖ Smart Contracts en Solidity ‚Üí Para verificar autenticidad en la DAO.
üìå Commit 113.1: Configurar World ID para Identidad Verificable en la DAO
üîπ Mensaje de commit:
feat(world-id-config): configura World ID para verificaci√≥n de identidad sin revelar datos en la DAO
üîπ Contenido del commit:
1Ô∏è‚É£ Registrar la DAO en Worldcoin
    Obtener API Key para usar la World ID API.
    Definir el contrato de verificaci√≥n de identidad en la DAO.
2Ô∏è‚É£ A√±adir Configuraci√≥n en config/world_id.yml
world_id:
  enabled: true
  verification_contract: "0xYourVerificationContractAddress"
  zk_proof_provider: "https://developer.worldcoin.org/"
  dao_require_verification: true
üîπ A√±adir archivos al commit:
git add .
git commit -m "feat(world-id-config): configura World ID para verificaci√≥n de identidad sin revelar datos en la DAO"
üìå Commit 113.2: Implementar Smart Contract de Verificaci√≥n con World ID
üîπ Mensaje de commit:
feat(world-id-contract): agrega smart contract para verificar identidad en la DAO con World ID
üîπ Contenido del commit:
Definir WorldIDVerifier.sol en contracts/WorldIDVerifier.sol
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;
import "@worldcoin/idkit/contracts/WorldID.sol";
contract WorldIDVerifier {
    WorldID public worldId;
    mapping(address => bool) public verifiedUsers;
    event UserVerified(address indexed user);
    constructor(address _worldIdAddress) {
        worldId = WorldID(_worldIdAddress);
    }
    function verifyIdentity(bytes memory proof) public {
        require(!verifiedUsers[msg.sender], "Ya verificado");
        worldId.verifyProof(proof);
        verifiedUsers[msg.sender] = true;
        emit UserVerified(msg.sender);
    }
    function isVerified(address user) public view returns (bool) {
        return verifiedUsers[user];
    }
}
üîπ A√±adir archivos al commit:
git add .
git commit -m "feat(world-id-contract): agrega smart contract para verificar identidad en la DAO con World ID"
üìå Commit 113.3: Integrar UI para Verificar Identidad con World ID
üîπ Mensaje de commit:
feat(world-id-ui): agrega UI para validar identidad en la DAO usando pruebas de humanidad de World ID
üîπ Contenido del commit:
Modificar app/javascript/controllers/world_id_controller.js
import { Controller } from "@hotwired/stimulus";
import Web3 from "web3";
export default class extends Controller {
  async verifyIdentity() {
    if (!window.ethereum) {
      alert("Por favor instala MetaMask");
      return;
    }
    const web3 = new Web3(window.ethereum);
    await window.ethereum.request({ method: "eth_requestAccounts" });
    // Simulaci√≥n de un ZK Proof generado por Worldcoin
    const proof = "0xZKProofSimulation";
    const contract = new web3.eth.Contract(
      [{ name: "verifyIdentity", type: "function", inputs: [{ name: "proof", type: "bytes" }] }],
      "0xYourWorldIDVerifierContractAddress"
    );
    await contract.methods.verifyIdentity(proof).send({
      from: window.ethereum.selectedAddress,
    });
    alert("Identidad verificada con √©xito");
  }
}
Modificar app/views/world_id/index.html.erb
<h2>Verificar Identidad con World ID</h2>
<button data-controller="world_id" data-action="click->world_id#verifyIdentity">
  Verificar Identidad
</button>
üîπ A√±adir archivos al commit:
git add .
git commit -m "feat(world-id-ui): agrega UI para validar identidad en la DAO usando pruebas de humanidad de World ID"
üìù Explicaci√≥n y C√≥digo Generado
Ejemplo de Verificaci√≥n de Identidad en API
curl -X POST "http://localhost:3000/world_id/verify" \
  -H "Content-Type: application/json" \
  -d '{ "proof": "0xZKProofSimulation" }'
‚úÖ El usuario verifica su identidad sin revelar datos personales.
Ejemplo de Consulta de Estado de Verificaci√≥n en API
curl -X GET "http://localhost:3000/world_id/status?wallet=0xUserWallet"
‚úÖ Retorna true si el usuario est√° verificado.
Ejemplo de Panel de Verificaci√≥n en Worldcoin
https://developer.worldcoin.org/
‚úÖ Los usuarios pueden verificar su identidad y obtener credenciales descentralizadas.
