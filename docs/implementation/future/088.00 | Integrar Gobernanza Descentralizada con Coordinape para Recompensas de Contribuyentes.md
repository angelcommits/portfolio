# âœ… Paso 88: Integrar Gobernanza Descentralizada con Coordinape para Recompensas de Contribuyentes

Ahora agregaremos Coordinape, permitiendo que los miembros de la DAO voten y asignen recompensas a los colaboradores mÃ¡s activos de forma descentralizada.
âœ… Recompensas Basadas en Consenso â†’ Los miembros asignan recompensas entre ellos.
âœ… Sistema de CÃ­rculos de Recompensas â†’ Permite que cada equipo gestione sus propios incentivos.
âœ… Web3.js + Stimulus.js â†’ Para interactuar con la plataforma desde la UI.
âœ… IntegraciÃ³n con la DAO â†’ Los fondos provienen de la tesorerÃ­a en Gnosis Safe.
ğŸ“Œ Commit 88.1: Configurar CÃ­rculos de Recompensas en Coordinape
ğŸ”¹ Mensaje de commit:
feat(coordinape-rewards): configura cÃ­rculos de recompensas descentralizadas en Coordinape
ğŸ”¹ Contenido del commit:
1ï¸âƒ£ Crear una DAO en Coordinape
    Agregar direcciÃ³n de la DAO.
    Definir cÃ­rculos de contribuyentes (desarrollo, comunidad, diseÃ±o, etc.).
    Configurar frecuencia de distribuciÃ³n de recompensas.
2ï¸âƒ£ AÃ±adir ConfiguraciÃ³n en config/coordinape.yml
coordinape:
  dao: "yourdao.eth"
  circles:
    - name: "Desarrollo"
      budget: 5000 GOVR
    - name: "Comunidad"
      budget: 3000 GOVR
    - name: "DiseÃ±o"
      budget: 2000 GOVR
  reward_frequency: "mensual"
ğŸ”¹ AÃ±adir archivos al commit:
git add .
git commit -m "feat(coordinape-rewards): configura cÃ­rculos de recompensas descentralizadas en Coordinape"
ğŸ“Œ Commit 88.2: Integrar DistribuciÃ³n de Fondos desde Gnosis Safe a Coordinape
ğŸ”¹ Mensaje de commit:
feat(coordinape-rewards): integra distribuciÃ³n de fondos desde la tesorerÃ­a de la DAO a Coordinape
ğŸ”¹ Contenido del commit:
Modificar GnosisSafeTreasury.sol para Enviar Fondos a Coordinape
contract GnosisSafeTreasury {
    address public coordinape;
    address public gnosisSafe;
    constructor(address _coordinape, address _gnosisSafe) {
        coordinape = _coordinape;
        gnosisSafe = _gnosisSafe;
    }
    function sendFundsToCoordinape(uint256 amount) external {
        require(msg.sender == gnosisSafe, "Solo Gnosis Safe puede enviar fondos");
        payable(coordinape).transfer(amount);
    }
}
ğŸ”¹ AÃ±adir archivos al commit:
git add .
git commit -m "feat(coordinape-rewards): integra distribuciÃ³n de fondos desde la tesorerÃ­a de la DAO a Coordinape"
ğŸ“Œ Commit 88.3: Integrar UI para AsignaciÃ³n de Recompensas en Coordinape
ğŸ”¹ Mensaje de commit:
feat(coordinape-rewards): agrega UI para asignar recompensas entre miembros de la DAO
ğŸ”¹ Contenido del commit:
Modificar app/javascript/controllers/coordinape_rewards_controller.js
import { Controller } from "@hotwired/stimulus";
import Web3 from "web3";
export default class extends Controller {
  static targets = ["recipient", "amount"];
  async sendReward() {
    if (!window.ethereum) {
      alert("Por favor instala MetaMask");
      return;
    }
    const web3 = new Web3(window.ethereum);
    await window.ethereum.request({ method: "eth_requestAccounts" });
    const recipient = this.recipientTarget.value;
    const amount = Web3.utils.toWei(this.amountTarget.value, "ether");
    await fetch("https://api.coordinape.com/v1/allocate", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({
        dao: "yourdao.eth",
        circle: "Desarrollo",
        recipient: recipient,
        amount: amount
      })
    });
    alert("Recompensa asignada con Ã©xito.");
  }
}
Modificar app/views/coordinape_rewards/index.html.erb
<h2>Asignar Recompensas en la DAO</h2>
<label>DirecciÃ³n del Miembro:</label>
<input type="text" data-coordinape-rewards-target="recipient">
<label>Monto en GOVR:</label>
<input type="text" data-coordinape-rewards-target="amount">
<button data-controller="coordinape-rewards" data-action="click->coordinape-rewards#sendReward">
  Asignar Recompensa
</button>
ğŸ”¹ AÃ±adir archivos al commit:
git add .
git commit -m "feat(coordinape-rewards): agrega UI para asignar recompensas entre miembros de la DAO"
ğŸ“ ExplicaciÃ³n y CÃ³digo Generado
Ejemplo de Enviar Fondos a Coordinape en API
curl -X POST "http://localhost:3000/coordinape/send_funds" \
  -H "Content-Type: application/json" \
  -d '{ "amount": 5000 }'
âœ… La DAO transfiere fondos a Coordinape para distribuciÃ³n.
Ejemplo de AsignaciÃ³n de Recompensa en API
curl -X POST "https://api.coordinape.com/v1/allocate" \
  -H "Content-Type: application/json" \
  -d '{ "dao": "yourdao.eth", "circle": "Desarrollo", "recipient": "0xUserWallet", "amount": "500" }'
âœ… El usuario recibe 500 GOVR en Coordinape.
Ejemplo de Panel de Coordinape en Web
https://app.coordinape.com/
âœ… Los miembros pueden ver sus recompensas y asignarlas a otros colaboradores.
