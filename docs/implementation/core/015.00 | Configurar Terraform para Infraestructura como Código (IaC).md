# âœ… Paso 15: Configurar Terraform para Infraestructura como CÃ³digo (IaC)

Ahora configuraremos Terraform para gestionar la infraestructura del proyecto en la nube y en servidores propios.
âœ… Terraform â†’ AutomatizaciÃ³n de infraestructura en AWS, GCP, Azure o servidores on-premise.
âœ… MÃ³dulos reutilizables â†’ Configuraciones modulares para diferentes entornos.
âœ… Provisionamiento automÃ¡tico de recursos â†’ Servidores, bases de datos, redes, balanceadores de carga.
ğŸ“Œ Commit 15.1: Agregar ConfiguraciÃ³n Base de Terraform
ğŸ”¹ Mensaje de commit:
infra(terraform): inicializa configuraciÃ³n base de Terraform para AWS
ğŸ”¹ Contenido del commit:
# Crear estructura de archivos para Terraform
mkdir -p infra/terraform
touch infra/terraform/main.tf infra/terraform/variables.tf infra/terraform/outputs.tf
# Inicializar Terraform
cd infra/terraform && terraform init
# AÃ±adir archivos al commit
git add .
git commit -m "infra(terraform): inicializa configuraciÃ³n base de Terraform para AWS"
ğŸ“Œ Commit 15.2: Configurar Provisionamiento de Servidores en AWS
ğŸ”¹ Mensaje de commit:
infra(terraform): agrega configuraciÃ³n para provisionar servidores EC2 en AWS
ğŸ”¹ Contenido del commit:
Definir main.tf para AWS
provider "aws" {
region = var.aws_region
}
resource "aws_instance" "app_server" {
ami = "ami-0c55b159cbfafe1f0"
instance_type = "t3.micro"
tags = {
Name = "CompanyAppServer"
}
}
Definir variables.tf
variable "aws_region" {
description = "RegiÃ³n de AWS donde se desplegarÃ¡n los recursos"
default = "us-east-1"
}
ğŸ”¹ AÃ±adir archivos al commit:
git add .
git commit -m "infra(terraform): agrega configuraciÃ³n para provisionar servidores EC2 en AWS"
ğŸ“Œ Commit 15.3: Configurar Base de Datos y Balanceador de Carga
ğŸ”¹ Mensaje de commit:
infra(terraform): agrega base de datos PostgreSQL y balanceador de carga en AWS
ğŸ”¹ Contenido del commit:
Configurar PostgreSQL en main.tf
resource "aws_db_instance" "postgres" {
engine = "postgres"
instance_class = "db.t3.micro"
allocated_storage = 20
username = "admin"
password = "password"
}
Configurar Balanceador de Carga en main.tf
resource "aws_lb" "app_lb" {
name = "company-app-lb"
internal = false
load_balancer_type = "application"
security_groups = ["sg-123456"]
enable_deletion_protection = false
}
ğŸ”¹ AÃ±adir archivos al commit:
git add .
git commit -m "infra(terraform): agrega base de datos PostgreSQL y balanceador de carga en AWS"
âœ… FinalizaciÃ³n: Â¿QuÃ© podrÃ­amos implementar con Pulumi en relaciÃ³n al aprovisionamiento?
Terraform es una excelente opciÃ³n para infraestructura declarativa, pero Pulumi nos permitirÃ­a:
âœ… Definir infraestructura con lenguajes como TypeScript, Python o Ruby.
âœ… Integrar lÃ³gica condicional y ciclos en el aprovisionamiento.
âœ… Reutilizar cÃ³digo fÃ¡cilmente con clases y mÃ³dulos.
âœ… Mejor integraciÃ³n con GitOps (actualizaciÃ³n automÃ¡tica de infraestructura desde el cÃ³digo).
Ejemplo de Pulumi en TypeScript (aprovisionando un servidor EC2 en AWS)
import \* as aws from "@pulumi/aws";
const instance = new aws.ec2.Instance("appServer", {
ami: "ami-0c55b159cbfafe1f0",
instanceType: "t3.micro",
tags: {
Name: "CompanyAppServer",
},
});
export const instanceId = instance.id;
ğŸ“Œ Â¿Te gustarÃ­a que agregÃ¡ramos Pulumi como opciÃ³n para infraestructura dinÃ¡mica en paralelo con Terraform? ğŸ˜Š
You said:
si, haslo con ruby pulumi
ChatGPT said:
