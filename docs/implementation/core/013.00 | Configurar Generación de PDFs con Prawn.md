# âœ… Paso 13: Configurar GeneraciÃ³n de PDFs con Prawn

Ahora agregaremos Prawn para la generaciÃ³n de documentos PDF dentro de la aplicaciÃ³n.
âœ… Prawn â†’ GeneraciÃ³n de PDFs directamente en Ruby.
âœ… Soporte para tablas, imÃ¡genes y estilos personalizados.
âœ… ExportaciÃ³n de reportes desde modelos como User y Platform.
ðŸ“Œ Commit 13.1: Instalar Prawn y Crear Generador de PDFs
ðŸ”¹ Mensaje de commit:
feat(pdf): instala Prawn y agrega generador de PDFs para exportar datos
ðŸ”¹ Contenido del commit:
# AÃ±adir Prawn al Gemfile
echo "gem 'prawn', '~> 2.4'" >> Gemfile
# Instalar la gema
bundle install
# Crear un servicio para la generaciÃ³n de PDFs
mkdir -p app/services
touch app/services/pdf_generator.rb
# AÃ±adir archivos al commit
git add .
git commit -m "feat(pdf): instala Prawn y agrega generador de PDFs para exportar datos"
ðŸ“Œ Commit 13.2: Implementar Servicio para Generar PDFs
ðŸ”¹ Mensaje de commit:
feat(pdf): agrega servicio PDFGenerator para exportaciÃ³n de reportes
ðŸ”¹ Contenido del commit:
Definir el Servicio PDFGenerator
# app/services/pdf_generator.rb
require "prawn"
class PDFGenerator
def self.generate_user_list(users)
Prawn::Document.new do |pdf|
pdf.text "Lista de Usuarios", size: 18, style: :bold
pdf.move_down 10
      table_data = [["ID", "Nombre", "Email"]]
      users.each do |user|
        table_data << [user.id, user.name, user.email]
      end
      pdf.table(table_data, header: true, row_colors: ["F0F0F0", "FFFFFF"])
      pdf.render
    end
end
end
ðŸ”¹ AÃ±adir archivos al commit:
git add .
git commit -m "feat(pdf): agrega servicio PDFGenerator para exportaciÃ³n de reportes"
ðŸ“Œ Commit 13.3: Integrar GeneraciÃ³n de PDFs en un Endpoint
ðŸ”¹ Mensaje de commit:
feat(pdf): agrega endpoint en UsersController para exportar lista de usuarios en PDF
ðŸ”¹ Contenido del commit:
Modificar UsersController para exportar PDFs
# app/controllers/users_controller.rb
class UsersController < ApplicationController
def index
@users = Company::Business::User.all
    respond_to do |format|
      format.html
      format.json { render json: @users }
      format.pdf do
        pdf = PDFGenerator.generate_user_list(@users)
        send_data pdf, filename: "usuarios.pdf", type: "application/pdf", disposition: "inline"
      end
    end
end
end
ðŸ”¹ AÃ±adir archivos al commit:
git add .
git commit -m "feat(pdf): agrega endpoint en UsersController para exportar lista de usuarios en PDF"
ðŸ“ ExplicaciÃ³n y CÃ³digo Generado
Ejemplo de Uso en Rails Console
users = Company::Business::User.all
pdf = PDFGenerator.generate_user_list(users)
File.open("usuarios.pdf", "wb") { |file| file.write(pdf) }
Ejemplo de Uso en API
# Descargar el PDF con la lista de usuarios
curl -X GET "http://localhost:3000/users.pdf" -o usuarios.pdf
Resultado en PDF
    Se genera un documento con una tabla de usuarios.
    Incluye encabezados con estilos bÃ¡sicos.
    Se puede abrir directamente en el navegador (disposition: "inline").
