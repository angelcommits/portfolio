# âœ… Paso 6: Configurar Background Jobs con Solid Queue

Ahora agregaremos Solid Queue como sistema de procesamiento de tareas en segundo plano, usando Active Record como backend, eliminando la necesidad de Redis.
âœ… Solid Queue â†’ Background jobs nativo de Rails 7.1, basado en la base de datos.
âœ… Procesamiento asÃ­ncrono â†’ Para tareas como envÃ­o de correos, procesamiento de datos, etc.
âœ… Multi-tenancy â†’ Integrado con la estrategia hÃ­brida de multi-tenancy (schema-based + row-based).
ğŸ“Œ Commit 6.1: Instalar Solid Queue y configurar Active Job
ğŸ”¹ Mensaje de commit:
feat(jobs): instala Solid Queue como backend para procesamiento de tareas en segundo plano
ğŸ”¹ Contenido del commit:
# Crear la tabla de jobs en la base de datos
rails solid_queue:install:migrations
# Ejecutar migraciones
rails db:migrate
# Configurar Solid Queue en Active Job
echo "
Rails.application.config.active_job.queue_adapter = :solid_queue
" >> config/application.rb
# AÃ±adir archivos al commit
git add .
git commit -m "feat(jobs): instala Solid Queue como backend para procesamiento de tareas en segundo plano"
ğŸ“Œ Commit 6.2: Implementar un Job de Prueba (NotificaciÃ³n por Correo)
ğŸ”¹ Mensaje de commit:
feat(jobs): agrega un job de prueba para envÃ­o de notificaciones
ğŸ”¹ Contenido del commit:
# Generar un Job de prueba
rails g job company/business/notification
# AÃ±adir archivos al commit
git add .
git commit -m "feat(jobs): agrega un job de prueba para envÃ­o de notificaciones"
ğŸ“ ExplicaciÃ³n y CÃ³digo Generado
Configurar Solid Queue (config/application.rb)
# Configura Solid Queue como el backend para Active Job
Rails.application.config.active_job.queue_adapter = :solid_queue
Definir un Job de Prueba (app/jobs/company/business/notification_job.rb)
module Company
module Business
class NotificationJob < ApplicationJob
queue_as :default
      def perform(user_id)
        user = Company::Business::User.find(user_id)
        puts "Enviando notificaciÃ³n a #{user.email}"
      end
    end
end
end
Ejemplo de Uso en Rails Console
# Agendar un job para ejecuciÃ³n asÃ­ncrona
Company::Business::NotificationJob.perform_later(user.id)
